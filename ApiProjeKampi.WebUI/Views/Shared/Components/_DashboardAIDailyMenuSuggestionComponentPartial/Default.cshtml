@model List<ApiProjeKampi.WebUI.Dtos.AISuggestionDtos.MenuSuggestionDto>

<div class="col-md-6 col-lg-12 col-xl-6">
    <div class="card">
        <div class="card-header d-flex justify-content-between align-items-center">
            <h4>AI Günlük Menüler</h4> <form class="card-header-form">
                <input type="text" name="search" class="form-control" placeholder="Menülerde ara...">
            </form>
        </div>

        <div class="card-body">

            @if (Model == null || !Model.Any())
            {
                <div class="alert alert-warning">
                    Şu anda yapay zeka menü oluşturamıyor veya bağlantı hatası var. Lütfen sayfayı yenileyin.
                </div>
            }
            else
            {
                @foreach (var menu in Model)
                {
                    <div class="support-ticket media pb-1 mb-3">

                        <img src="https://flagsapi.com/@(menu.CountryCode.ToUpper())/flat/64.png"
                             class="user-img mr-2"
                             style="width: 50px; height: 50px; object-fit: contain;"
                             alt="flag">

                        <div class="media-body ml-3">

                            <div class="badge badge-pill badge-primary mb-1 float-right">
                                @menu.Cuisine
                            </div>

                            <span class="font-weight-bold">@menu.MenuTitle</span>

                            @* <a href="javascript:void(0)">Günün Menüsü</a> *@

                            <div class="my-1">
                                <ul class="pl-3">
                                    @foreach (var item in menu.Items)
                                    {
                                        <li>
                                            <strong>@item.Name</strong> – @item.Description
                                            <span class="text-muted">(@item.Price ₺)</span>
                                        </li>
                                    }
                                </ul>
                            </div>
                        </div>
                    </div>
                }
            }

        </div>

        <a href="javascript:void(0)" onclick="location.reload();"
           class="card-footer card-link text-center small">
            Menüleri Yenile 🔄
        </a>
    </div>
</div>